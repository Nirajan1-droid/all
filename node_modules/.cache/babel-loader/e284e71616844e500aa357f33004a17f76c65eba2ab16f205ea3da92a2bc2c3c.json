{"ast":null,"code":"var _jsxFileName = \"/home/nirajan/withcart/Unicorn-Classic/Unicorn-Classic/site/src/components/login_page/index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport \"./style.css\";\nimport \"./mobile.css\";\nimport Navbar from '../common/navbar';\nimport Footer from '../common/footer';\nimport { HashLink as Link } from 'react-router-hash-link';\nimport { useContext } from \"react\";\nimport { Context } from \"../context/Context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoginPage() {\n  _s();\n  const userRef = useRef();\n  const passwordRef = useRef();\n  const [error, setError] = useState(false);\n  const [servererr, setServererr] = useState(false);\n  const {\n    user,\n    dispatch,\n    isFetching\n  } = useContext(Context);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    dispatch({\n      type: \"LOGIN_START\"\n    });\n    try {\n      const res = await axios.post(\"http://localhost:5000/api/v1/login\", {\n        email: userRef.current.value,\n        password: passwordRef.current.value\n      });\n      dispatch({\n        type: \"LOGIN_SUCCESS\",\n        payload: res.data\n      });\n      res.data && window.location.replace('/order_page');\n      setError(false);\n      setServererr(false);\n    } catch (err) {\n      dispatch({\n        type: \"LOGIN_FAILURE\"\n      });\n      if (err.code === 401 || err.code === 403 || err.code === 404) {\n        setError(true);\n      } else {\n        //for 500 which is internal server error\n        setServererr(true);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"login__id\",\n    className: \"login__page--container\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login__page--box flex__col flex__center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login__page--greet medium__paragraph--text\",\n        children: \"Greeting! Sign in to your Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"login__page--form flex__col flex__center\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login__email--container\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"login__identifier\",\n            ref: userRef,\n            placeholder: \"Email or Phone Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"login__msg login__email--message\",\n            children: \"Please enter a valid email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login__pw--container\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"login__pw\",\n            ref: passwordRef,\n            placeholder: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"login__msg login__pw--message\",\n            children: \"Please enter correct password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"submit\", {\n          className: \"login__btn--submit\",\n          type: \"submit\",\n          disabled: isFetching,\n          children: \"LOGIN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login__page--line\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login__page--signup--redirect flex__col flex__center medium__paragraph--text\",\n          children: [\"Don't have an account?\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"signup__redirect\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/signin_page#signup__id`,\n              className: \"linker nav__item--g\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"login__signup--btn\",\n                children: \"SIGNUP\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 7\n          }, this), error && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"warn\",\n            style: {\n              color: \"red\",\n              marginTop: \"10px\"\n            },\n            children: \"Invalid Credentials\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this), servererr && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"warn\",\n            style: {\n              color: \"red\",\n              marginTop: \"15px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 20\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 3\n  }, this);\n}\n_s(LoginPage, \"00h3Ir5Ik1o4Dd2sSsuXYz4kdcU=\");\n_c = LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Navbar","Footer","HashLink","Link","useContext","Context","LoginPage","userRef","passwordRef","error","setError","servererr","setServererr","user","dispatch","isFetching","handleSubmit","e","preventDefault","type","res","axios","post","email","current","value","password","payload","data","window","location","replace","err","code","color","marginTop"],"sources":["/home/nirajan/withcart/Unicorn-Classic/Unicorn-Classic/site/src/components/login_page/index.jsx"],"sourcesContent":["import React, { useEffect ,useRef, useState} from 'react'\nimport \"./style.css\"\nimport \"./mobile.css\"\nimport Navbar from '../common/navbar';\nimport Footer from '../common/footer';\nimport { HashLink as Link } from 'react-router-hash-link';\nimport {useContext} from \"react\";\nimport {Context} from \"../context/Context\";\n\n\nexport default function LoginPage()\n{\n\t\n\t\t \n\t\t\t\n\tconst userRef = useRef();\n\tconst passwordRef = useRef();\n\tconst [error, setError ] = useState(false);\n\tconst [servererr,setServererr] =useState(false)\n  \n\tconst {user , dispatch, isFetching } = useContext(Context);\n  \n  \n  \n\tconst handleSubmit= async (e)=>{\n\t  e.preventDefault();\n\t  dispatch({type:\"LOGIN_START\"});\n\t  try{\n\t\t  const res = await axios.post(\"http://localhost:5000/api/v1/login\",{\n\t\t\temail : userRef.current.value,\n\t\t\tpassword : passwordRef.current.value,\n\t\t  })\n\t\t  dispatch({type :\"LOGIN_SUCCESS\", payload:res.data});\n\t\t  res.data && window.location.replace('/order_page')\n\t\t  setError(false)\n\t\t  setServererr(false);\n\t  }catch(err){ \n\t\t  dispatch({type:\"LOGIN_FAILURE\"})\n\t\t  if (err.code === 401 || err.code === 403 || err.code === 404) {\n\t\t\tsetError(true);\n\t\t  }else{//for 500 which is internal server error\n\t\t\tsetServererr(true);\n\t\t  }\n\t  }\n\t}\n\treturn (\n\t\t<div id='login__id' className=\"login__page--container\">\n\t\t\t<Navbar/>\n\t\t\t<div className=\"login__page--box flex__col flex__center\">\n\t\t\t\t<div className=\"login__page--greet medium__paragraph--text\">Greeting! Sign in to your Account</div>\n\t\t\t\t<form className=\"login__page--form flex__col flex__center\" onSubmit={handleSubmit}>\n\t\t\t\t \n\t\t\t\t\t<div className=\"login__email--container\">\n\t\t\t\t\t\t<input type=\"text\" className='login__identifier' ref = {userRef} placeholder='Email or Phone Number' />\n\t\t\t\t\t\t<div className=\"login__msg login__email--message\">Please enter a valid email</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"login__pw--container\">\n\t\t\t\t\t\t<input type=\"password\" className=\"login__pw\" ref = {passwordRef} placeholder='Password'/>\n\t\t\t\t\t\t<div className=\"login__msg login__pw--message\">Please enter correct password</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<submit className=\"login__btn--submit\" type=\"submit\" disabled ={isFetching} >LOGIN</submit>\n\t\t\t\t\t<div className=\"login__page--line\"></div>\n\t\t\t\t\t<div className=\"login__page--signup--redirect flex__col flex__center medium__paragraph--text\">Don't have an account? \n\t\t\t\t\t\t<span className='signup__redirect'>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={`/signin_page#signup__id`}\n\t\t\t\t\t\t\t\tclassName=\"linker nav__item--g\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<button className=\"login__signup--btn\">SIGNUP</button>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{error && <span className=\"warn\" style={{ color: \"red\", marginTop: \"10px\" }}>Invalid Credentials</span>}\n\t\t\t\t\t\n\n\t\t\t\t\t{servererr && <span className=\"warn\" style={{ color: \"red\", marginTop: \"15px\" }}></span>}\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t\t<Footer/>\n\t\t</div>\n\t);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}