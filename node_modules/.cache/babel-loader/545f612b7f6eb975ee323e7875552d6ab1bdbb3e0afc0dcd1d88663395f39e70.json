{"ast":null,"code":"var _jsxFileName = \"/home/nirajan/kripsa/quote/full-stack-quote-generator/ecom/src/components/login_page/index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport \"./style.css\";\nimport \"./mobile.css\";\nimport Navbar from '../common/navbar';\nimport Footer from '../common/footer';\nimport { HashLink as Link } from 'react-router-hash-link';\nimport { useContext } from \"react\";\nimport { Context } from \"../context/Context\";\nimport axios from 'axios';\nimport LogoutButton from './logout';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoginPage() {\n  _s();\n  const userRef = useRef();\n  const passwordRef = useRef();\n  const [error, setError] = useState(false);\n  const [servererr, setServererr] = useState(false);\n  const [success, setSuccess] = useState(true);\n  const {\n    user,\n    dispatch,\n    isFetching\n  } = useContext(Context);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    dispatch({\n      type: \"LOGIN_START\"\n    });\n    const res = await axios.post(\"/api/v1/login\", {\n      email: userRef.current.value,\n      password: passwordRef.current.value\n    }).then(res => {\n      res.data && window.location.replace('/order_page') && setSuccess(true);\n      dispatch({\n        type: \"LOGIN_SUCCESS\",\n        payload: res.data\n      });\n      alert(\"LOGIN Success\");\n      setError(false);\n      setServererr(false);\n    }).catch(err => {\n      alert(\"login error\");\n      dispatch({\n        type: \"LOGIN_FAILURE\"\n      });\n      if (err.code === 401 || err.code === 403 || err.code === 404) {\n        setError(true);\n      } else {\n        //for 500 which is internal server error\n        setServererr(true);\n        setSuccess(false);\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"login__id\",\n    className: \"login__page--container\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 4\n    }, this), user ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"logout-button-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-message \",\n        children: \"Successfully logged in!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(LogoutButton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 6\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login__page--box flex__col flex__center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login__page--greet medium__paragraph--text\",\n        children: \"Greeting! Sign in to your Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"login__page--form flex__col flex__center\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login__email--container\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"login__identifier\",\n            ref: userRef,\n            placeholder: \"Email or Phone Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login__pw--container\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"login__pw\",\n            ref: passwordRef,\n            placeholder: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"login__btn--submit\",\n          type: \"submit\",\n          disabled: isFetching,\n          children: \"LOGIN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login__page--line\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 6\n      }, this), error && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"warn\",\n        style: {\n          color: \"red\",\n          marginTop: \"10px\"\n        },\n        children: \"Invalid Credentials\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 18\n      }, this), servererr && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"warn\",\n        style: {\n          color: \"red\",\n          marginTop: \"15px\"\n        },\n        children: \"Invalid\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 22\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login__page--signup--redirect flex__col flex__center medium__paragraph--text\",\n        children: [\"Don't have an account?\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"signup__redirect\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/signin_page#signup__id`,\n            className: \"linker nav__item--g\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"login__signup--btn\",\n              children: \"SIGNUP\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 6\n    }, this), \";\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 3\n  }, this);\n}\n_s(LoginPage, \"7LwNMDipN2tvLqXEl2rr7CiVN6o=\");\n_c = LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Navbar","Footer","HashLink","Link","useContext","Context","axios","LogoutButton","jsxDEV","_jsxDEV","LoginPage","_s","userRef","passwordRef","error","setError","servererr","setServererr","success","setSuccess","user","dispatch","isFetching","handleSubmit","e","preventDefault","type","res","post","email","current","value","password","then","data","window","location","replace","payload","alert","catch","err","code","id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","ref","placeholder","disabled","style","color","marginTop","to","_c","$RefreshReg$"],"sources":["/home/nirajan/kripsa/quote/full-stack-quote-generator/ecom/src/components/login_page/index.jsx"],"sourcesContent":["import React, { useEffect ,useRef, useState} from 'react'\nimport \"./style.css\"\nimport \"./mobile.css\"\nimport Navbar from '../common/navbar';\nimport Footer from '../common/footer';\nimport { HashLink as Link } from 'react-router-hash-link';\nimport {useContext} from \"react\";\nimport {Context} from \"../context/Context\";\nimport axios from 'axios';\nimport LogoutButton from './logout';\nexport default function LoginPage()\n{\n\t\n\t\t \n\t\t\t\n\tconst userRef = useRef();\n\tconst passwordRef = useRef();\n\tconst [error, setError ] = useState(false);\n\tconst [servererr,setServererr] =useState(false)\n\tconst [success,setSuccess] =useState(true)\n  \n\tconst {user , dispatch, isFetching } = useContext(Context);\n\t\n  \n  \n  \n\tconst handleSubmit= async (e)=>{\n\t  e.preventDefault();\n\t  dispatch({type:\"LOGIN_START\"});\n\t  \n\t\t  const res = await axios.post(\"/api/v1/login\",{\n\t\t\temail : userRef.current.value,\n\t\t\tpassword : passwordRef.current.value,\n\t\t  }).then((res) => {\n\t\t \n\t\t\t  res.data && (window.location.replace('/order_page') && setSuccess(true));\n\t\t\t  dispatch({type :\"LOGIN_SUCCESS\", payload:res.data});\n\t\t\talert(\"LOGIN Success\")\n\t\t\tsetError(false)\n\t\t\tsetServererr(false);\n\t\t\t \n\t\t}).catch((err)=>{ \nalert(\"login error\");\t\t\t\ndispatch({type:\"LOGIN_FAILURE\"})\n\t\t\tif (err.code === 401 || err.code === 403 || err.code === 404) {\nsetError(true);\t\t\t \n \n\t\t\t}else{//for 500 which is internal server error\n\t\t\t  setServererr(true);\n\t\t\t  setSuccess(false);\n\t\t\t}\n\t\t});\n\t\t \n\n\t}\n\treturn (\n\t\t<div id='login__id' className=\"login__page--container\">\n\t\t\n\t\t\t<Navbar/>\n\t\t\t {user ?\n\t\t\t \n\t\t\t \n\t\t\t\t(<div className=\"logout-button-container\">\n\t\t\t\t<div className=\"success-message \">Successfully logged in!</div>\n\t\t\t\t<LogoutButton/>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t)\n\t\t\t\t\n\t\t\t \n\t\t\t:\n\t\t\t\t(<div className=\"login__page--box flex__col flex__center\">\n\t\t\t\t<div className=\"login__page--greet medium__paragraph--text\">Greeting! Sign in to your Account</div>\n\t\t\t\t<form className=\"login__page--form flex__col flex__center\" onSubmit={handleSubmit}>\n\t\t\t\t\t<div className=\"login__email--container\">\n\t\t\t\t\t\t<input type=\"text\" className='login__identifier' ref = {userRef} placeholder='Email or Phone Number' />\n\t\t\t\t\t\t{/* <div className=\"login__msg login__email--message\">Please enter a valid email</div> */}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"login__pw--container\">\n\t\t\t\t\t\t<input type=\"password\" className=\"login__pw\" ref = {passwordRef} placeholder='Password'/>\n\t\t\t\t\t\t{/* <div className=\n\t\t\t\t\t\t\"login__msg login__pw--message\">Please enter correct password</div> */}\n\t\t\t\t\t</div>\n\t\t\t\t\t \n\n\t\t\t\t\t<button className=\"login__btn--submit\" type=\"submit\" disabled ={isFetching} >LOGIN</button>\n\t\t\t\t\t \n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t<div className=\"login__page--line\"></div>\n\t\t\t\t\t\t\t{error && <span className=\"warn\" style={{ color: \"red\", marginTop: \"10px\" }}>Invalid Credentials</span>}\n\t\t\t\t\t\t\t{servererr && <span className=\"warn\" style={{ color: \"red\", marginTop: \"15px\" }}>Invalid</span>}\n\t\t\t\t\t<div className=\"login__page--signup--redirect flex__col flex__center medium__paragraph--text\">Don't have an account? \n\t\t\t\t\t\t<span className='signup__redirect'>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={`/signin_page#signup__id`}\n\t\t\t\t\t\t\t\tclassName=\"linker nav__item--g\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<button className=\"login__signup--btn\">SIGNUP</button>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t</div>)};\n\t\t\t{/* <Footer/> */}\n\t\t\t\n\t\t</div>\n\t);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}